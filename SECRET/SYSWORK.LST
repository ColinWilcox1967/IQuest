   1 00000                              ;;************************************************************
   2 00000                              ;esr-l                                  IOCS
   3 00000                              ;       
   4 00000                              ;syswork
   5 00000                              ;                       personal div. engineering dev. 3
   6 00000                              ;                                       yasuharu tanaka
   7 00000                              ;       fixed address system work.
   8 00000                              ;       for application control
   9 00000                              ;       start address = 
  10 00000                              ;
  11 00000                              ;ver. 15        1988.2.4        PC-E500
  12 00000                              ;ver. 20        1988.4.29
  13 00000                              ;ver. 21        1988.7.29
  14 00000                              ;       mb_flag                         y.wada
  15 00000                              ;;************************************************************
  16 00000                              
  17 00000                              ;------------------------------------------------------------
  18 00000                              ; segment definition
  19 00000                              ;------------------------------------------------------------
  20 00000                                      cseg    syswork
  21 00000                              
  22 00000                              ;------------------------------------------------------------
  23 00000                                      public  ui
  24 00000                              
  25 00000                              ui      equ     0e0h            ;virtual register for C compiler
  26 00000                              ;------------------------------------------------------------
  27 00000                                      public  syswork_top
  28 00000                              syswork_top:
  29 00000                              
  30 00000                              ;=============================================================
  31 00000                              ;data block controll works
  32 00000                              ;=============================================================
  33 00000                                      public  main_ram_top
  34 00000                                      public  main_ram_bottom
  35 00000                                      public  main_rom_top
  36 00000                                      public  card_ram_top
  37 00000                                      public  card_ram_bottom
  38 00000                                      public  card_rom_top
  39 00000                                      public  main_header_tbl
  40 00000                                      public  card_header_tbl
  41 00000                                      public  appli_code
  42 00000                                      public  last_appli_code
  43 00000                                      public  appli_key
  44 00000                                      public  last_appli_key
  45 00000                                      public  current_ymd_buf
  46 00000                                      public  current_time_buf
  47 00000                                      public  current_drive
  48 00000                                      public  current_mode
  49 00000                                      public  current_rel_adr
  50 00000                                      public  card_ram_checksum
  51 00000                                      public  card_rom_checksum
  52 00000                                      public  main_u_backup
  53 00000                                      public  sub_u_backup
  54 00000                              
  55 00000                              ;------------------------------------------------------------
  56 00000                              ;
  57 00000                              ;------ memory block , data packet system area (syswork)
  58 00000                              ;
  59 00003                              main_ram_top            ds      3
  60 00006                              main_ram_bottom         ds      3
  61 00009                              main_rom_top            ds      3
  62 00009                              
  63 0000c                              card_ram_top            ds      3
  64 0000f                              card_ram_bottom         ds      3
  65 00012                              card_rom_top            ds      3
  66 00012                              ;
  67 00012                              ;------ apm system area (syswork)
  68 00012                              ;
  69 00015                              main_header_tbl         ds      3       ;main appli entry adr table
  70 00018                              card_header_tbl         ds      3       ;card appli entry adr table
  71 00018                              
  72 0001a                              appli_code              ds      2       ;present appli Nr.
  73 0001c                              last_appli_code         ds      2       ;previous appli Nr.
  74 0001e                              appli_key               ds      2       ;present appli start key code
  75 00020                              last_appli_key          ds      2       ;previous appli start key code
  76 00020                              
  77 0002c                              current_ymd_buf         ds      12      ;common Year Month Date buffer
  78 00034                              current_time_buf        ds      4+4     ;common hour minute buffer
  79 00034                              ;                                       ;+4 is reserved size. by Wada.
  80 00035                              current_drive           ds      1       ;common block's drive Nr.
  81 00036                              current_mode            ds      1       ;common block's mode
  82 00039                              current_rel_adr         ds      3       ;common block relative address
  83 00039                              
  84 0003c                              card_ram_checksum       ds      3       ;power off checksum buffer
  85 0003f                              card_rom_checksum       ds      3
  86 0003f                              
  87 00043                              main_u_backup           ds      4       ;appli in stack level keep buffer
  88 00047                              sub_u_backup            ds      4       ;gosub type appli in stack
  89 00047                                                                      ;keep buffer
  90 00047                              
  91 00047                              ;
  92 00047                              ;============================================================
  93 00047                              ; lcd graphic work
  94 00047                              ;============================================================
  95 00047                                      public  linptn
  96 00047                              ;------ 
  97 00049                              linptn          ds      2       ;line pattern for line,box and boxfill
  98 00049                              
  99 00049                              
 100 00049                              ;=============================================================
 101 00049                              ;key work       (iocs)
 102 00049                              ;=============================================================
 103 00049                                      public  editor_work_ptr
 104 00049                                      public  repeat_key
 105 00049                                      public  fp_tbl_ptr
 106 00049                                      public  type2_table_top_adr
 107 00049                                      public  key_23_1st_tbl_adr
 108 00049                                      public  key_23_2nd_tbl_adr
 109 00049                                      public  umlaut_convert_hook
 110 00049                                      public  symbol_data_tbl_adr
 111 00049                              
 112 00049                              ;------ 
 113 0004a                              editor_work_ptr ds      1       ;editor exit or not exit
 114 0004a                                                              ; =ffh  = not exit
 115 0004a                                                              ; <>ffh = exit
 116 0004a                              
 117 0004a                              ;------ 
 118 0004b                              repeat_key      ds      1       ;last pushed key matrix code. 0 is empty
 119 0004b                                                              ;use in key_look_type 2 
 120 0004b                                                              ;       key_get_type 2 routine
 121 0004b                              
 122 0004e                              fp_tbl_ptr              ds      3       ;card side front processor table
 123 0004e                                                                      ;    top address
 124 0004e                              
 125 00051                              type2_table_top_adr     ds      3       ;matrix code --> type 2
 126 00051                                                                      ;  table top address
 127 00051                              
 128 00051                              ;------ 
 129 00054                              key_23_1st_tbl_adr      ds      3       ;type 2 --> type 3
 130 00054                                                                      ;  table top address
 131 00054                                                                      ;1st byte 0 - 7fh table
 132 00054                                                                      ; from front processor 
 133 00054                              
 134 00057                              key_23_2nd_tbl_adr      ds      3       ;type 2 --> type 3
 135 00057                                                                      ;  table top address
 136 00057                                                                      ;1st byte =0
 137 00057                                                                      ;2nd byte 0 -7fh table
 138 00057                                                                      ; from front process
 139 00057                              
 140 00057                              ;------ 
 141 0005a                              umlaut_convert_hook     ds      3       ;front process
 142 0005a                                                                      ; umlaut process
 143 0005a                                                                      ;umlaut convert hook adr.
 144 0005a                              
 145 0005a                              ;------ 
 146 0005d                              symbol_data_tbl_adr     ds      3       ;front process
 147 0005d                                                                      ; symbol data top address
 148 0005d                              
 149 0005d                              ;
 150 0005d                              ;============================================================
 151 0005d                              ; system routine work
 152 0005d                              ;============================================================
 153 0005d                                      public  machine_auto_slot
 154 0005d                                      public  off_u_stack
 155 0005d                                      public  power_mode
 156 0005d                                      public  application_vector
 157 0005d                                      public  bp_btm
 158 0005d                                      public  menu_ctrl
 159 0005d                              
 160 0005d                              ;------ 
 161 0005e                              machine_auto_slot       ds      1       ;for auto start machine language
 162 0005e                                                              ;start slot number to search 
 163 0005e                                                              ;auto run program
 164 0005e                                                              ; msb=1 : not auto run.
 165 0005e                                                              ; = 2 : search program in slot 2 -> 1 -> 0
 166 0005e                                                              ; = 1 : slot 1 -> 0
 167 0005e                                                              ; = 0 : slot 0 only
 168 0005e                              
 169 00061                              off_u_stack             ds      3       ;off time u reg.
 170 00061                              
 171 00062                              power_mode      ds      1       ;power continius mode controll
 172 00062                                                              ;bit 1: sio inuse
 173 00062                                                              ;bit 0: timer inuse
 174 00062                              
 175 00065                              application_vector      ds      3       ;jump to application adr
 176 00065                              
 177 00066                              bp_btm          ds      1       ;bp area bottom adr.
 178 00066                              
 179 00067                              menu_ctrl       ds      1       ;main menu control
 180 00067                                                              ;msb= 1 : not disp menu and auto select
 181 00067                                                              ;bit 6 - 0: auto select pf key No.
 182 00067                              
 183 00067                              ;============================================================
 184 00067                              ; counter work
 185 00067                              ;============================================================
 186 00067                                      public  _counter_16
 187 00067                              
 188 00067                              ;------ 
 189 0006a                              _counter_16     ds      3       ;interbal counter of 16 msec.
 190 0006a                                                              ;for time out, timer
 191 0006a                              
 192 0006a                              ;
 193 0006a                              ;============================================================
 194 0006a                              ; cg pointer work
 195 0006a                              ;============================================================
 196 0006a                                      public  insert_mark_ptr
 197 0006a                                      public  insert_mark_ptr8
 198 0006a                                      public  insert_mark1_ptr
 199 0006a                                      public  insert_mark1_ptr8
 200 0006a                                      public  insert_mark2_ptr
 201 0006a                                      public  insert_mark2_ptr8
 202 0006a                                      public  ctrl_cg_top
 203 0006a                                      public  lower_cg_top
 204 0006a                                      public  upper_cg0_top
 205 0006a                                      public  upper_cg1_top
 206 0006a                                      public  upper_cg2_top
 207 0006a                                      public  ctrl_cg_top8
 208 0006a                                      public  lower_cg_top8
 209 0006a                                      public  upper_cg0_top8
 210 0006a                                      public  upper_cg1_top8
 211 0006a                                      public  upper_cg2_top8
 212 0006a                              
 213 0006a                              ;------ 
 214 0006d                              insert_mark_ptr ds      3       ;brink insert mark font(6bytes) top adr.
 215 0006d                                                              ;               (for 5*7)
 216 00070                              insert_mark_ptr8        ds      3       ;brink insert mark
 217 00070                                                                      ; font (16 bytes) top adr. (for 8*16)
 218 00070                              
 219 00073                              insert_mark1_ptr        ds      3       ;brink insert mark font(6bytes)
 220 00073                                                                      ;        top adr. (for 5*7)
 221 00076                              insert_mark1_ptr8       ds      3       ;brink insert mark
 222 00076                                                                      ; font (16 bytes) top adr. (for 8*16)
 223 00076                              
 224 00079                              insert_mark2_ptr        ds      3       ;brink insert mark font(6bytes)
 225 00079                                                                      ;        top adr. (for 5*7)
 226 0007c                              insert_mark2_ptr8       ds      3       ;brink insert mark
 227 0007c                                                                      ; font (16 bytes) top adr. (for 8*16)
 228 0007c                              ;------------------------------------------------------------
 229 0007c                              
 230 0007f                              ctrl_cg_top     ds      3       ;5*7 dots cg font for code 00h-1fh
 231 00082                              lower_cg_top    ds      3       ;5*7 dots cg font for code 20h-7fh
 232 00085                              upper_cg0_top   ds      3       ;5*7 dots cg font for code 80h-9fh
 233 00088                              upper_cg1_top   ds      3       ;5*7 dots cg font for code a0h-dfh
 234 0008b                              upper_cg2_top   ds      3       ;5*7 dots cg font for code e0h-ffh
 235 0008b                              
 236 0008e                              ctrl_cg_top8    ds      3       ;8*16 dots cg font for code 00h-1fh
 237 00091                              lower_cg_top8   ds      3       ;8*16 dots cg font for code 20h-7fh
 238 00094                              upper_cg0_top8  ds      3       ;8*16 dots cg font for code 80h-9fh
 239 00097                              upper_cg1_top8  ds      3       ;8*16 dots cg font for code a0h-dfh
 240 0009a                              upper_cg2_top8  ds      3       ;8*16 dots cg font for code e0h-ffh
 241 0009a                              
 242 0009a                              ;------------------------------------------------------------
 243 0009a                              ; tempolary area top
 244 0009a                              ;------------------------------------------------------------
 245 0009a                                      public  temp_syswork_top
 246 0009a                                      public  temp_u_stack_btm
 247 0009a                                      public  temp_s_stack_btm
 248 0009a                              
 249 0009a                              temp_s_stack_btm:
 250 0009a                              
 251 0009a                              temp_u_stack_btm        equ     temp_s_stack_btm -35
 252 0009a                              temp_syswork_top        equ     temp_u_stack_btm -30
 253 0009a                              
 254 0009a                              ;------------------------------------------------------------
 255 0009a                              
 256 0009a                              ;
 257 0009a                              ;=============================================================
 258 0009a                              ;lcd device work
 259 0009a                              ;=============================================================
 260 0009a                                      public  graphic_mode, dotsop
 261 0009a                                      public  lcd_symbol0
 262 0009a                                      public  lcd_symbol1
 263 0009a                                      public  lcd_symbol2
 264 0009a                                      public  lcd_symbol3
 265 0009a                                      public  lcd_crsr_x
 266 0009a                                      public  lcd_crsr_y
 267 0009a                                      public  lcd_width
 268 0009a                                      public  lcd_height
 269 0009a                                      public  lcd_width8
 270 0009a                                      public  lcd_height8
 271 0009a                                      public  lcd_mode
 272 0009a                                      public  lcd_cg_mode
 273 0009a                              
 274 0009a                                      public  lcd_contrast
 275 0009a                              
 276 0009a                              ;------ text chacter disp
 277 0009a                              dotsop:
 278 0009b                              graphic_mode    ds      1       ;graphic pattern output operation mode
 279 0009b                                                              ;bit 7-4: 0
 280 0009b                                                              ;bit 3-0: 2 - exclusived or
 281 0009b                                                              ;       : 1 - or
 282 0009b                                                              ;       : 0 - set
 283 0009b                              
 284 0009b                              ;------ lcd
 285 0009b                              
 286 0009c                              lcd_crsr_x      ds      1       ;phisical cursor position x
 287 0009d                              lcd_crsr_y      ds      1       ;phisical cursor position y
 288 0009d                              
 289 0009e                              lcd_width       ds      1       ;lcd width by 5*7 size. (default= 16)
 290 0009f                              lcd_height      ds      1       ;lcd hight by 5*7 size.(default= 8)
 291 0009f                              
 292 000a0                              lcd_width8      ds      1       ;lcd width by 8*16 size.(default= 12)
 293 000a1                              lcd_height8     ds      1       ;lcd hight by 8*16 size.(default= 4)
 294 000a1                              
 295 000a2                              lcd_mode        ds      1       ;lcd display mode
 296 000a2                                                              ;bit 7: 0 
 297 000a2                                                              ;bit 6: reverse character mode
 298 000a2                                                              ;bit 5: character size ( 8*16 / 5*7)
 299 000a2                              
 300 000a3                              lcd_cg_mode     ds      1       ;lcd cg control
 301 000a3                                                              ;bit 0: cg_emergency_bit
 302 000a3                                                              ;       0 according cg work
 303 000a3                                                              ;       1 make sze original cg
 304 000a3                              
 305 000a3                              ;------------------------------------------------------------
 306 000a3                              ;------ symbol
 307 000a3                              
 308 000a4                              lcd_symbol0     ds      1       ;lcd symbol bit NO HIKAE 0
 309 000a4                                                              ;bit 7: low battery
 310 000a4                                                              ;bit 6: card
 311 000a4                                                              ;bit 5: edit
 312 000a4                                                              ;bit 4: shift
 313 000a4                                                              ;bit 3: caps
 314 000a4                                                              ;bit 2: *
 315 000a4                                                              ;bit 1: ONPU
 316 000a4                                                              ;bit 0: ^ (up sign)
 317 000a4                              
 318 000a5                              lcd_symbol1     ds      1       ;lcd symbol bit NO HIKAE
 319 000a5                                                              ;bit 7-3: 0
 320 000a5                                                              ;bit 2: secret sign
 321 000a5                                                              ;bit 1: bell sign
 322 000a5                                                              ;bit 0: v (down sign)
 323 000a5                              
 324 000a6                              lcd_symbol2     ds      1       ;lcd symbol bit NO HIKAE
 325 000a6                                                              ;bit 7: <-- (backword sing)
 326 000a6                                                              ;bit 6-0: 0
 327 000a6                              
 328 000a7                              lcd_symbol3     ds      1       ;lcd symbol bit NO HIKAE
 329 000a7                                                              ;bit 7: --> (foward sign)
 330 000a7                                                              ;bit 6-0: 0
 331 000a7                              
 332 000a8                              lcd_contrast            ds      1       ;lcd contrast 0--1fh
 333 000a8                              ;
 334 000a8                              ;============================================================
 335 000a8                              ; iocs main work
 336 000a8                              ;============================================================
 337 000a8                                      public  iocs_header_adr
 338 000a8                              
 339 000a8                              ;------ 
 340 000ab                              iocs_header_adr ds      3       ;iocs header list top adr.
 341 000ab                              
 342 000ab                              ;=============================================================
 343 000ab                              ;key scan work  (irq)
 344 000ab                              ;=============================================================
 345 000ab                                      public  keymatrix_mask
 346 000ab                                      public  onkey_matrix_mask
 347 000ab                                      public  real_key
 348 000ab                                      public  last_key
 349 000ab                                      public  key_irq_flag
 350 000ab                                      public  repeat_ctr
 351 000ab                                      public  repeat_wait
 352 000ab                                      public  repeat_pitch
 353 000ab                                      public  auto_power_off_time
 354 000ab                                      public  key_irq_flag2
 355 000ab                                      public  k_scan_mode
 356 000ab                                      public  key_matrix_tbl
 357 000ab                                      public  key_look_hook
 358 000ab                                      public  card_key_matrix_tbl_adr
 359 000ab                                      public  set_keybuf_hook
 360 000ab                              ;------ 
 361 000bb                              keymatrix_mask  ds      16      ;key scan matrix disable bits
 362 000bb                                                              ;       bit on: key enable
 363 000bb                                                              ;          off: key disable
 364 000bb                                                              ;+0 strobe no.0
 365 000bb                                                              ;+1 strobe no.1
 366 000bb                                                              ;+2 strobe no.2
 367 000bb                                                              ;+3 strobe no.3
 368 000bb                                                              ;+4 strobe no.4
 369 000bb                                                              ;+5 strobe no.5
 370 000bb                                                              ;+6 strobe no.6
 371 000bb                                                              ;+7 strobe no.7
 372 000bb                                                              ;+8 strobe no.8
 373 000bb                                                              ;+9 strobe no.9
 374 000bb                                                              ;+a strobe no.10
 375 000bb                                                              ;+b strobe no.11
 376 000bb                                                              ;+c strobe no.12
 377 000bb                                                              ;+d strobe no.13
 378 000bb                                                              ;+e strobe no.14
 379 000bb                                                              ;+f strobe no.15
 380 000bb                              
 381 000bc                              onkey_matrix_mask       ds      1       ;bit 0: onkey_matrix_mask
 382 000bc                                                                      ;       bit on: key enable
 383 000bc                                                                      ;          off: key disable
 384 000bc                              
 385 000bc                              ;------ can't exchange
 386 000be                              real_key        ds      2       ;now pushed key matrix code (for 2 key)
 387 000be                                                              ;=0 is empty
 388 000be                              
 389 000bf                              last_key        ds      1       ;last pushed key matrix code. 0 is empty
 390 000bf                                                              ;use in repeat routine
 391 000bf                              
 392 000c0                              key_irq_flag    ds      1       ;key irq routine flags
 393 000c0                                                              ;bit 1: real key 1 NO baunce flag
 394 000c0                                                              ;bit 0: real key 0 NO baunce flag
 395 000c0                                                              ;       =1 : now baunce wait
 396 000c0                                                              ;caution! can't read or write
 397 000c0                                                              ;         from normal routine
 398 000c0                              
 399 000c1                              repeat_ctr      ds      1       ;repeat counter
 400 000c1                                                              ;<>0: repeat start time (*16msec.)
 401 000c1                                                              ;= 0: repeat stop now
 402 000c1                              
 403 000c1                              ;------ 
 404 000c2                              repeat_wait     ds      1       ;repeat start wait time preset (*16 msec.)
 405 000c3                              repeat_pitch    ds      1       ;repeat pitch time preset (*16 msec.)
 406 000c3                              
 407 000c5                              auto_power_off_time     ds      2       ;auto power off time
 408 000c5                              
 409 000c6                              key_irq_flag2   ds      1       ;key irq routine flags 2
 410 000c6                                                              ;bit 7: on/break key now pushed
 411 000c6                                                              ;bit 6: low battery fatal
 412 000c6                              
 413 000c7                              k_scan_mode     ds      1       ;key scan mode byte
 414 000c7                                                              ;bit 7-6: repeat area
 415 000c7                                                              ;       3:all key repeat
 416 000c7                                                              ;bit 5:0
 417 000c7                                                              ;bit 4: click
 418 000c7                                                              ;bit 3: repeat click on/off
 419 000c7                              
 420 000ca                              key_matrix_tbl  ds      3       ;key matrix code table top adr.
 421 000ca                              
 422 000cd                              key_look_hook   ds      3       ;look scan buffer routine hook
 423 000cd                              
 424 000d0                              card_key_matrix_tbl_adr ds      3       ;card key matrix table top address
 425 000d3                              set_keybuf_hook ds      3       ;set keybuf routine hook
 426 000d3                              
 427 000d3                              ;============================================================
 428 000d3                              ; irq routine vector
 429 000d3                              ;============================================================
 430 000d3                              ;------ IRQ vecter HA KAKU IRQ YOUKYUU NO SYORI WO OKONAU routine NO
 431 000d3                              ;------ entry adr. WO SHIMESU pointer DESU.
 432 000d3                              
 433 000d3                                      public  irq0_vect
 434 000d3                                      public  irq1_vect
 435 000d3                                      public  irq2_vect
 436 000d3                                      public  irq3_vect
 437 000d3                                      public  irq4_vect
 438 000d3                                      public  irq5_vect
 439 000d3                                      public  irq6_vect
 440 000d3                                      public  soft_irq_vect
 441 000d3                              
 442 000d3                              ;------ 
 443 000d6                              irq0_vect       ds      3       ;m sec.
 444 000d9                              irq1_vect       ds      3       ;sec.
 445 000dc                              irq2_vect       ds      3       ;key
 446 000df                              irq3_vect       ds      3       ;key
 447 000e2                              irq4_vect       ds      3       ;key
 448 000e5                              irq5_vect       ds      3       ;key
 449 000e8                              irq6_vect       ds      3       ;key
 450 000eb                              soft_irq_vect   ds      3       ;software break
 451 000eb                              
 452 000eb                              ;------------------------------------------------------------
 453 000eb                              ; tempolary work bottom
 454 000eb                              ;------------------------------------------------------------
 455 000eb                                      public  temp_syswork2_top
 456 000eb                                      public  temp_syswork1_end
 457 000eb                                      public  temp_syswork1_size
 458 000eb                              
 459 000eb                              temp_syswork1_end:
 460 000eb                              temp_syswork1_size      equ     temp_syswork1_end-temp_syswork_top
 461 000eb                              temp_syswork2_top:              ;tempolary syswork2 area top adr.
 462 000eb                              
 463 000eb                              ;============================================================
 464 000eb                              ;stack works pointers
 465 000eb                              ;============================================================
 466 000eb                                      public  u_stack_top
 467 000eb                                      public  u_stack_btm
 468 000eb                                      public  s_stack_top
 469 000eb                                      public  s_stack_btm
 470 000eb                                      public  df_u_stack_size
 471 000eb                                      public  df_s_stack_size
 472 000eb                              
 473 000eb                              ;------ 
 474 000ee                              u_stack_top     ds      3
 475 000ee                                              ;user stack top address
 476 000f1                              u_stack_btm     ds      3
 477 000f1                                              ;user stack bottom address+1
 478 000f4                              s_stack_top     ds      3
 479 000f4                                              ;system stack top address
 480 000f7                              s_stack_btm     ds      3
 481 000f7                                              ;system stack botom address+1
 482 000f7                              
 483 000f7                              ;------ default size
 484 000f7                              
 485 000f7                              df_u_stack_size         equ     1000h
 486 000f7                              df_s_stack_size         equ     1000h
 487 000f7                              
 488 000f7                              ;;-----------------------------------------------------------
 489 000f7                              ;
 490 000f7                              ;       |               |
 491 000f7                              ;       +---------------+ <-- u_stack_top
 492 000f7                              ;       |               |
 493 000f7                              ;       | user stack    |
 494 000f7                              ;   u-> |               |
 495 000f7                              ;       |               |
 496 000f7                              ;       +---------------+ <-- u_stack_btm
 497 000f7                              ;       |               |
 498 000f7                              ;       |               |
 499 000f7                              ;       +---------------+ <-- s_stack_top
 500 000f7                              ;       |               |
 501 000f7                              ;       | system stack  |
 502 000f7                              ;       |               |
 503 000f7                              ;   s-> |               |
 504 000f7                              ;       +---------------+ <-- s_stack_btm
 505 000f7                              ;       |               |
 506 000f7                              ;
 507 000f7                              ;;-----------------------------------------------------------
 508 000f7                              
 509 000f7                              ;============================================================
 510 000f7                              ; application pointers
 511 000f7                              ;============================================================
 512 000f7                                      public  flowting_area_top
 513 000f7                              
 514 000f7                                      public  appl_ptr20
 515 000f7                                      public  appl_ptr19
 516 000f7                                      public  appl_ptr18
 517 000f7                                      public  appl_ptr17
 518 000f7                                      public  appl_ptr16
 519 000f7                                      public  appl_ptr15
 520 000f7                                      public  appl_ptr14
 521 000f7                                      public  appl_ptr13
 522 000f7                                      public  appl_ptr12
 523 000f7                                      public  appl_ptr11
 524 000f7                                      public  appl_ptr10
 525 000f7                                      public  appl_ptr9
 526 000f7                                      public  appl_ptr8
 527 000f7                                      public  appl_ptr7
 528 000f7                                      public  appl_ptr6
 529 000f7                                      public  appl_ptr5
 530 000f7                                      public  appl_ptr4
 531 000f7                                      public  appl_ptr3
 532 000f7                                      public  appl_ptr2
 533 000f7                                      public  appl_ptr1
 534 000f7                                      public  appl_ptr0
 535 000f7                                      public  syswork3_top
 536 000f7                                      public  syswork2_top
 537 000f7                                      public  machine_lang_top
 538 000f7                              
 539 000f7                                      public  flowting_ptr_num
 540 000f7                                      public  df_flowting_area_size
 541 000f7                              
 542 000f7                              ;------ flowting area top adr pointer
 543 000f7                              
 544 000fa                              flowting_area_top       ds      3
 545 000fa                              
 546 000fa                              ;------ for apprication flowting work pointer
 547 000fa                              
 548 000fd                              appl_ptr20      ds      3
 549 000fd                                              ;application work area top address pointer
 550 00100                              appl_ptr19      ds      3
 551 00100                                              ;application work area top address pointer
 552 00103                              appl_ptr18      ds      3
 553 00103                                              ;application work area top address pointer
 554 00106                              appl_ptr17      ds      3
 555 00106                                              ;application work area top address pointer
 556 00109                              appl_ptr16      ds      3
 557 00109                                              ;application work area top address pointer
 558 0010c                              appl_ptr15      ds      3
 559 0010c                                              ;application work area top address pointer
 560 0010f                              appl_ptr14      ds      3
 561 0010f                                              ;application work area top address pointer
 562 00112                              appl_ptr13      ds      3
 563 00112                                              ;application work area top address pointer
 564 00115                              appl_ptr12      ds      3
 565 00115                                              ;application work area top address pointer
 566 00118                              appl_ptr11      ds      3
 567 00118                                              ;application work area top address pointer
 568 0011b                              appl_ptr10      ds      3
 569 0011b                                              ;application work area top address pointer
 570 0011e                              appl_ptr9       ds      3
 571 0011e                                              ;application work area top address pointer
 572 00121                              appl_ptr8       ds      3
 573 00121                                              ;application work area top address pointer
 574 00124                              appl_ptr7       ds      3
 575 00124                                              ;application work area top address pointer
 576 00127                              appl_ptr6       ds      3
 577 00127                                              ;application work area top address pointer
 578 0012a                              appl_ptr5       ds      3
 579 0012a                                              ;application work area top address pointer
 580 0012d                              appl_ptr4       ds      3
 581 0012d                                              ;application work area top address pointer
 582 00130                              appl_ptr3       ds      3
 583 00130                                              ;application work area top address pointer
 584 00133                              appl_ptr2       ds      3
 585 00133                                              ;application work area top address pointer
 586 00136                              appl_ptr1       ds      3
 587 00136                                              ;application work area top address pointer
 588 00139                              appl_ptr0       ds      3
 589 00139                                              ;application work area top address pointer
 590 00139                              
 591 00139                              ;------ for system flowting work pointer
 592 00139                              
 593 0013c                              syswork3_top    ds      3
 594 0013c                                              ;system work area 3 top pointer
 595 0013f                              syswork2_top    ds      3
 596 0013f                                              ;system work area2 top pointer
 597 00142                              machine_lang_top        ds      3
 598 00142                                              ;machine language area top address pointer
 599 00142                              
 600 00142                              ;------ flowting work equ
 601 00142                              
 602 00142                              flowting_ptr_num        equ     24
 603 00142                              df_flowting_area_size   equ     1150
 604 00142                              
 605 00142                              ;;-----------------------------------------------------------
 606 00142                              ;
 607 00142                              ;       |               |
 608 00142                              ;       +---------------+ <-- flowting_area_top
 609 00142                              ;       |           ^   |
 610 00142                              ;       | free area |   |
 611 00142                              ;       |               |
 612 00142                              ;       +---------------+ <-- appl_work_ptr1 - 14
 613 00142                              ;       | other work    |
 614 00142                              ;       |               |
 615 00142                              ;       | (flowting)    |
 616 00142                              ;       +---------------+ <-- appl_work_ptr0
 617 00142                              ;       | tel work      |
 618 00142                              ;       |               |
 619 00142                              ;       | (flowting)    |
 620 00142                              ;       +---------------+ <-- syswork2_top, syswork3_top
 621 00142                              ;       | syswork 2     |
 622 00142                              ;       |               |
 623 00142                              ;       | (flowting)    |
 624 00142                              ;       +---------------+ <-- machn_area_top
 625 00142                              ;       | machine       |
 626 00142                              ;       | language area |
 627 00142                              ;       | (flowting)    |
 628 00142                              ;       +---------------+
 629 00142                              ;       | system work1  |
 630 00142                              ;       |               |
 631 00142                              ;       | (fixed)       |       
 632 00142                              ;       +---------------+ <-- RAM end
 633 00142                              ;
 634 00142                              ;;-----------------------------------------------------------
 635 00142                              
 636 00142                              ;============================================================
 637 00142                              ; lcd work
 638 00142                              ;============================================================
 639 00142                                      public  effective_for_ctrl_code
 640 00142                                      public  lcd_extra_crx
 641 00142                                      public  lcd_extra_cry
 642 00142                                      public  cursor_size_x
 643 00142                                      public  cursor_size_y
 644 00142                                      public  lcd_extra_mode
 645 00142                                      public  cursor_extra_adr
 646 00142                                      public  lcd_cg_type
 647 00142                              ;------ 
 648 00142                              ;------ for print_chr & print_n_chr
 649 00143                              effective_for_ctrl_code ds      1
 650 00143                                                              ;effective for null & tab code
 651 00143                                                              ;bit 0: null code  0  carriage return 
 652 00143                                                              ;                  1  lcd disp
 653 00143                                                              ;bit 1: tab code   0  carriage return
 654 00143                                                              ;                  1  lcd disp
 655 00143                              
 656 00143                              ;------------------------------------------------------------
 657 00143                              ;------    graphic (extra) chracter disp
 658 00145                              lcd_extra_crx   ds      2       ;graphic cursor x coordinate
 659 00147                              lcd_extra_cry   ds      2       ;graphic cursor y coordinate
 660 00147                              
 661 00148                              cursor_size_x   ds      1       ;graphic cursor size x
 662 00149                              cursor_size_y   ds      1       ;graphic cursor size y
 663 00149                              
 664 0014a                              lcd_extra_mode  ds      1       ;lcd display mode
 665 0014a                                                              ;bit 7: 0 
 666 0014a                                                              ;bit 6: reverse character mode
 667 0014a                                                              ;bit 5: character size ( 8*16 / 5*7)
 668 0014a                                                              ;bit 3-0: 2 - exclusived or
 669 0014a                                                              ;       : 1 - or
 670 0014a                                                              ;       : 0 - set
 671 0014a                              
 672 0014d                              cursor_extra_adr        ds      3
 673 0014d                                                              ;lcd pattern pop positoin address
 674 0014d                                                              ;  for graphic cursor
 675 0014d                              
 676 0014e                              lcd_cg_type     ds      1       ;cg type
 677 0014e                                                              ; =0  sze original cg
 678 0014e                                                              ; =1  IBM 1
 679 0014e                                                              ; =2  IBM 2
 680 0014e                                                              ; if bit 7 =1  modify cg set
 681 0014e                              
 682 0014e                              ;===========================================================
 683 0014e                              ; prt system work
 684 0014e                              ;===========================================================
 685 0014e                                      public  prt_width
 686 0014e                                      public  prt_width8
 687 0014e                                      public  prt_mode
 688 0014e                                      public  prt_spacing
 689 0014e                                      public  prt_effective_for_ctrl_code
 690 0014e                              
 691 0014e                              ;-----
 692 0014f                              prt_width       ds      1       ;1 line chr.No.[byte] 5*7 mode
 693 00150                              prt_width8      ds      1       ;1 line chr.No.[byte] 8*16 mode
 694 00151                              prt_mode        ds      1       ;bit2|0:none       |1:auto cr
 695 00151                                                              ;bit5|0:5*7 mode   |1:8*16 mode
 696 00151                                                              ;bit6|0:normal     |1:reverce
 697 00152                              prt_spacing     ds      1       ;space of both sides [dots]
 698 00153                              prt_effective_for_ctrl_code     ds      1
 699 00153                                                              ;effective for null & tab code
 700 00153                                                              ;bit 0: null code  0  carriage return 
 701 00153                                                              ;                  1  print
 702 00153                                                              ;bit 1: tab code   0  carriage return
 703 00153                                                              ;                  1  print
 704 00153                              
 705 00153                              ;============================================================
 706 00153                              ; pa_net communication
 707 00153                              ;============================================================
 708 00153                                      public  pnet_type
 709 00153                              ;------ 
 710 00154                              pnet_type       ds      1       ;00h:ce50p          |01h:set com
 711 00154                              
 712 00154                              ;
 713 00154                              ;============================================================
 714 00154                              ; sio work
 715 00154                              ;============================================================
 716 00154                                      public  sio_buf_status          
 717 00154                                      public  sio_kanjin_buf          
 718 00154                                      public  sio_kanjout_buf         
 719 00154                                      public  sio_timer               
 720 00154                                      public  sio_timer_master        
 721 00154                                      public  sio_baud_rate           
 722 00154                                      public  sio_setup               
 723 00154                                      public  sio_receive_port_condition
 724 00154                                      public  sio_receive_port_control
 725 00154                                      public  sio_send_port_condition 
 726 00154                                      public  sio_send_port_control   
 727 00154                                      public  sio_send_delay          
 728 00154                                      public  sio_receive_wait                
 729 00154                                      public  sio_crlf                
 730 00154                                      public  sio_eof_code            
 731 00154                                      public  sio_error               
 732 00154                                      public  sio_flag                
 733 00154                                      public  sio_flag_receive        
 734 00154                                      public  sio_open_close_wait
 735 00154                                      public  sio_open_port_control
 736 00154                                      public  sio_send_nbyte_wait
 737 00154                                      public  sio_open_send_data
 738 00154                                      public  sio_close_send_data
 739 00154                                      public  sio_delimit_code
 740 00154                              
 741 00154                              ;------ 
 742 00155                              sio_buf_status  ds      1       ;sio flow control status for IRQ
 743 00155                                                              ;bit 0: xoff received
 744 00155                                                              ;       ( send xon/off mode only )
 745 00155                                                              ;bit 1-3: 0
 746 00155                                                              ;bit 4: buffer overrun error
 747 00155                                                              ;bit 5: receive flow is stop mode
 748 00155                                                              ;       ( receive xon/off mode only )
 749 00155                              
 750 00158                              sio_kanjin_buf  ds      3       ; KANJI in code (00h is end mark)
 751 00158                                                              ; all 00h is not use mode.
 752 00158                              
 753 0015b                              sio_kanjout_buf ds      3       ; KANJI in code (00h is end mark)
 754 0015b                                                              ; all 00h is not use mode.
 755 0015b                              
 756 0015d                              sio_timer       ds      2       ;0.5sec. decrement counter
 757 0015d                                                              ;65535 -> 0 ( if 0 then not decrement)
 758 0015d                              
 759 0015d                              sio_timer_master:               ;sio timer preset value
 760 0015f                                              ds      2
 761 0015f                              
 762 00160                              sio_baud_rate   ds      1       ;sio baud rate register image.
 763 00160                                                              ;bit 0:stop bit
 764 00160                                                              ;       0= 1stop bit /1= 2stop bit
 765 00160                                                              ;bit 1:chr. length
 766 00160                                                              ;       0= 8bit / 1= 7bit
 767 00160                                                              ;bit 3-2: parity
 768 00160                                                              ;       00= even parity
 769 00160                                                              ;       01= odd parity
 770 00160                                                              ;       1*= non parity
 771 00160                                                              ;bit 6-4: baud rate
 772 00160                                                              ;       000=    sio stop
 773 00160                                                              ;       001=  300 baud
 774 00160                                                              ;       010=  600 baud
 775 00160                                                              ;       011= 1200 baud
 776 00160                                                              ;       100= 2400 baud
 777 00160                                                              ;       101= 4800 baud
 778 00160                                                              ;       110= 9600 baud
 779 00160                                                              ;       111=19200 baud
 780 00160                              
 781 00161                              sio_setup       ds      1       ;sio mode setup
 782 00161                                                              ;bit 0: shift in/out mode
 783 00161                                                              ;bit 1: send xon/off mode
 784 00161                                                              ;bit 2: receive xon_off mode
 785 00161                                                              ;bit 3: KANJI in/out mode
 786 00161                                                              ;bit 4: send close data enable
 787 00161                                                              ;bit 5: national version
 788 00161                                                              ;       0= over sea
 789 00161                                                              ;       1= japan
 790 00161                                                              ;bit 6: send open data enable
 791 00161                                                              ;bit 7: open mode
 792 00161                                                              ;       0= not open
 793 00161                                                              ;       1= open now
 794 00161                              
 795 00161                              sio_receive_port_condition:     ;receive data available port condition
 796 00162                                              ds      1       ;bit 0: 0
 797 00162                                                              ;bit 1: check cd
 798 00162                                                              ;       0= don't care
 799 00162                                                              ;       1= data available when cd HI
 800 00162                                                              ;bit 2: check cs
 801 00162                                                              ;       0= don't care
 802 00162                                                              ;       1= data available when cs HI
 803 00162                              
 804 00162                              sio_receive_port_control:       ;receive flow controled port
 805 00163                                              ds      1       ;bit 0-3: 0
 806 00163                                                              ;bit 4: rs  0= flow controled
 807 00163                                                              ;           1= don't care
 808 00163                                                              ;bit 5: rr
 809 00163                                                              ;bit 6: er
 810 00163                              
 811 00163                              sio_send_port_condition:        ;send data start port condition
 812 00164                                              ds      1       ;bit 0: 0
 813 00164                                                              ;bit 1: cd      0= don't care
 814 00164                                                              ;               1= send start when cd HI
 815 00164                                                              ;bit 2: cs      0= don't care
 816 00164                                                              ;               1= send start when cs HI
 817 00164                              
 818 00164                              sio_send_port_control:          ;send flow controled port
 819 00165                                              ds      1       ;bit 0-3:
 820 00165                                                              ;bit 4: rs  0= don't care
 821 00165                                                              ;           1= output HI when data send
 822 00165                                                              ;bit 5: rr
 823 00165                                                              ;bit 6: er
 824 00165                              
 825 00166                              sio_send_delay  ds      1       ;data WO SOUSHIN SURU ZENGO NI
 826 00166                                                              ;IRERU wait time NO NAGASA.
 827 00166                                                              ;unit is 2 msec.
 828 00166                              
 829 00166                              sio_receive_wait:               ;sio WO file control DE TUKAU BAWAI NO work
 830 00167                                              ds      1       ;data receive NO ATONO late data wait time
 831 00167                                                              ;unit is 2 msec.
 832 00167                              
 833 00168                              sio_crlf        ds      1       ;CR-LF code control
 834 00168                                                              ;bit 1-0: 00= cr code convert to null
 835 00168                                                              ;         01= cr code convert to 0dh
 836 00168                                                              ;         10= cr code convert to 0ah
 837 00168                                                              ;         11= cr code convert to 0dh+0ah
 838 00168                              
 839 00169                              sio_eof_code    ds      1       ;sio file eof code
 840 00169                              
 841 0016a                              sio_error       ds      1       ;sio error copy
 842 0016a                                                              ;bit 0: parity error
 843 0016a                                                              ;bit 1: over run error
 844 0016a                                                              ;bit 2: framing error
 845 0016a                                                              ;bit 3: illegal condition
 846 0016a                                                              ;bit 4: buffer overflow
 847 0016a                                                              ;bit 5: time out
 848 0016a                                                              ;bit 6: low battery
 849 0016a                                                              ;bit 7: on/break key
 850 0016a                              
 851 0016b                              sio_flag        ds      1       ;manage stack1,2/kanji status
 852 0016b                              
 853 0016b                              sio_flag_receive:
 854 0016c                                              ds      1       ;manage eof/stack3
 855 0016c                              
 856 0016c                              sio_open_close_wait:            ;sio WO file control DE TUKAU BAWAI NO work
 857 0016d                                              ds      1       ;open DE control line Hi NO ATO &
 858 0016d                                                              ;close DE control line Low NO MAE NO wait
 859 0016d                                                              ;unit is 5 msec.
 860 0016d                              
 861 0016d                              sio_open_port_control:
 862 0016e                                              ds      1       ;open JI NI active NI SURU line
 863 0016e                                                              ;close JI NIWA non active NI SURU
 864 0016e                                                              ;bit 0-3:
 865 0016e                                                              ;bit 4: rs  0= don't care
 866 0016e                                                              ;           1= output HI when open
 867 0016e                                                              ;bit 5: rr
 868 0016e                                                              ;bit 6: er
 869 0016e                              
 870 0016e                              ;------ 
 871 0016e                              sio_send_nbyte_wait:            ;for iocs n_byte send routine.
 872 0016f                                              ds      1       ;2msec. * n wait after 1byte send
 873 0016f                              
 874 0016f                              sio_open_send_data:             ;send data when sio open
 875 00170                                              ds      1
 876 00170                              
 877 00170                              sio_close_send_data:            ;send data when sio close
 878 00171                                              ds      1
 879 00171                              
 880 00171                              ;------ 
 881 00172                              sio_delimit_code   ds   1       ;internal delimit-code
 882 00172                                                              ;code -> 0dh,0ah when sending
 883 00172                                                              ;code <- 0dh,0ah when receiving
 884 00172                                                              ;in case of specified [sio_crlf]bit7=1
 885 00172                              
 886 00172                              ;============================================================
 887 00172                              ;       system ds table by shintaku
 888 00172                              ;       time control work
 889 00172                              ;============================================================
 890 00172                              ;------------------------------------------------------------
 891 00172                                      public  system_time_mode
 892 00172                                      public  system_calendar_mode
 893 00172                                      public  system_country_mode
 894 00172                              ;------------------------------------------------------------
 895 00173                              system_time_mode        ds      1       ;clock_mode_stime(01h)
 896 00173                                                                      ; 0:24h mode ,1:12h mode
 897 00173                                                                      ;ymd_order_stime(02h)
 898 00173                                                                      ; 0:MM/DD/YYYY ,1:DD/MM/YYYY
 899 00173                              
 900 00174                              system_calendar_mode    ds      1       ;calender display format
 901 00174                                                                      ; [left]  day of week
 902 00174                                                                      ; 00h   : Sunday
 903 00174                                                                      ; 01h   : Monday
 904 00174                                                                      ;       v
 905 00174                                                                      ; 06h   : Saturday
 906 00174                              
 907 00175                              system_country_mode     ds      1       ;country code
 908 00175                                                                      ; 0     :America
 909 00175                                                                      ; european_mode(10h)    :Europe
 910 00175                                                                      ;       10h - 1fh       :country
 911 00175                              ;------------------------------------------------------------
 912 00175                              ;
 913 00175                              ;============================================================
 914 00175                              ; alaram work
 915 00175                              ;                               by wada
 916 00175                              ;============================================================
 917 00175                                      public  alarm_mark
 918 00175                                      public  alarm_ymd
 919 00175                                      public  alarm_time
 920 00175                              ;------------------------------------------------------------
 921 00176                              alarm_mark      ds      1               ;alarm flag 80h=schedule alarm
 922 00176                                                                      ;           40h=daily alarm
 923 0017e                              alarm_ymd       ds      8               ;alarm ymd(year,month,date)
 924 00182                              alarm_time      ds      4               ;alarm time(hour,minute)
 925 00182                              
 926 00182                              ;============================================================
 927 00182                              ;       password & secret flag      by wada
 928 00182                              ;============================================================
 929 00182                                      public  system_secret_mode
 930 00182                                      public  _password_buf
 931 00182                              ;------ 
 932 00183                              system_secret_mode      ds      1       ;secret mode.
 933 00183                              ;                                       ;b7=1:secret on
 934 00183                              ;                                       ;  =0:secret off
 935 00183                              
 936 0018a                              _password_buf           ds      7       ;password string 7 bytes.
 937 0018a                              
 938 0018a                              ;------------------------------------------------------------
 939 0018a                              ;  data end hook  ( in data store time )
 940 0018a                              ;
 941 0018a                              ;        SUBETENO application NI OITE data WO NYUURYOKU
 942 0018a                              ;       SURUBAMENDE enter key WO OSARETA TOKINI KONO hook
 943 0018a                              ;       WO callf SURU.
 944 0018a                              ;        KONO hook NI YOTTE, KAKU application GA memory HE
 945 0018a                              ;       KAKUNOU SHIYOUTO SHITEIRU data WO monitering SURU KOTO
 946 0018a                              ;       GA DEKIRU. (ex.  for the saurus)
 947 0018a                              ;        hook NIWA 2 pattern ARI, SORE ZORE NI hook GA 1 TUZUTU ARI,
 948 0018a                              ;               1. on buffer controled by Editor Core
 949 0018a                              ;               2. on memory no-controled by Editor Core
 950 0018a                              ;       1. NO BAWAI HA editor core WO KIDOU SHITAMAMA KONO hook WO
 951 0018a                              ;       call SURU. 2. NO BAWAI HA KAKUNOU SURU data NO SENTOU WO
 952 0018a                              ;       x reg. DE SASHITE, KONO hook WO call SURU.
 953 0018a                              ;       
 954 0018a                              ;                               shiraishi.N
 955 0018a                              ;------------------------------------------------------------
 956 0018a                                      public  enter_ed_hook
 957 0018a                                      public  enter_x_hook
 958 0018a                              ;------ 
 959 0018e                              enter_ed_hook   ds      4               ;editor controled data
 960 00192                              enter_x_hook    ds      4               ;no-controled data
 961 00192                              
 962 00192                              ;
 963 00192                              ;============================================================
 964 00192                              ; main ram stack pointer push work
 965 00192                              ;               for stack pointer pop on reset
 966 00192                              ;============================================================
 967 00192                                      public  main_u_stack_top
 968 00192                                      public  main_u_stack_btm
 969 00192                                      public  main_s_stack_top
 970 00192                                      public  main_s_stack_btm
 971 00192                                      public  mb_flag
 972 00192                              
 973 00192                              ;------ 
 974 00195                              main_u_stack_top        ds      3       ;last set u_stack
 975 00198                              main_u_stack_btm        ds      3
 976 0019b                              main_s_stack_top        ds      3       ;last set s_stack
 977 0019e                              main_s_stack_btm        ds      3
 978 0019f                              mb_flag                 ds      1       ;mb.iocs mode flag.
 979 0019f                              
  Symbol Name            value
_counter_16          -- 000067 public cseg
_password_buf        -- 000183 public cseg
alarm_mark           -- 000175 public cseg
alarm_time           -- 00017e public cseg
alarm_ymd            -- 000176 public cseg
appl_ptr0            -- 000136 public cseg
appl_ptr1            -- 000133 public cseg
appl_ptr10           -- 000118 public cseg
appl_ptr11           -- 000115 public cseg
appl_ptr12           -- 000112 public cseg
appl_ptr13           -- 00010f public cseg
appl_ptr14           -- 00010c public cseg
appl_ptr15           -- 000109 public cseg
appl_ptr16           -- 000106 public cseg
appl_ptr17           -- 000103 public cseg
appl_ptr18           -- 000100 public cseg
appl_ptr19           -- 0000fd public cseg
appl_ptr2            -- 000130 public cseg
appl_ptr20           -- 0000fa public cseg
appl_ptr3            -- 00012d public cseg
appl_ptr4            -- 00012a public cseg
appl_ptr5            -- 000127 public cseg
appl_ptr6            -- 000124 public cseg
appl_ptr7            -- 000121 public cseg
appl_ptr8            -- 00011e public cseg
appl_ptr9            -- 00011b public cseg
appli_code           -- 000018 public cseg
appli_key            -- 00001c public cseg
application_vector   -- 000062 public cseg
auto_power_off_time  -- 0000c3 public cseg
bp_btm               -- 000065 public cseg
card_header_tbl      -- 000015 public cseg
card_key_matrix_tbl_adr -- 0000cd public cseg
card_ram_bottom      -- 00000c public cseg
card_ram_checksum    -- 000039 public cseg
card_ram_top         -- 000009 public cseg
card_rom_checksum    -- 00003c public cseg
card_rom_top         -- 00000f public cseg
ctrl_cg_top          -- 00007c public cseg
ctrl_cg_top8         -- 00008b public cseg
current_drive        -- 000034 public cseg
current_mode         -- 000035 public cseg
current_rel_adr      -- 000036 public cseg
current_time_buf     -- 00002c public cseg
current_ymd_buf      -- 000020 public cseg
cursor_extra_adr     -- 00014a public cseg
cursor_size_x        -- 000147 public cseg
cursor_size_y        -- 000148 public cseg
df_flowting_area_size -- 00047e public data
df_s_stack_size      -- 001000 public data
df_u_stack_size      -- 001000 public data
dotsop               -- 00009a public cseg
editor_work_ptr      -- 000049 public cseg
effective_for_ctrl_code -- 000142 public cseg
enter_ed_hook        -- 00018a public cseg
enter_x_hook         -- 00018e public cseg
flowting_area_top    -- 0000f7 public cseg
flowting_ptr_num     -- 000018 public data
fp_tbl_ptr           -- 00004b public cseg
graphic_mode         -- 00009a public cseg
insert_mark1_ptr     -- 000070 public cseg
insert_mark1_ptr8    -- 000073 public cseg
insert_mark2_ptr     -- 000076 public cseg
insert_mark2_ptr8    -- 000079 public cseg
insert_mark_ptr      -- 00006a public cseg
insert_mark_ptr8     -- 00006d public cseg
iocs_header_adr      -- 0000a8 public cseg
irq0_vect            -- 0000d3 public cseg
irq1_vect            -- 0000d6 public cseg
irq2_vect            -- 0000d9 public cseg
irq3_vect            -- 0000dc public cseg
irq4_vect            -- 0000df public cseg
irq5_vect            -- 0000e2 public cseg
irq6_vect            -- 0000e5 public cseg
k_scan_mode          -- 0000c6 public cseg
key_23_1st_tbl_adr   -- 000051 public cseg
key_23_2nd_tbl_adr   -- 000054 public cseg
key_irq_flag         -- 0000bf public cseg
key_irq_flag2        -- 0000c5 public cseg
key_look_hook        -- 0000ca public cseg
key_matrix_tbl       -- 0000c7 public cseg
keymatrix_mask       -- 0000ab public cseg
last_appli_code      -- 00001a public cseg
last_appli_key       -- 00001e public cseg
last_key             -- 0000be public cseg
lcd_cg_mode          -- 0000a2 public cseg
lcd_cg_type          -- 00014d public cseg
lcd_contrast         -- 0000a7 public cseg
lcd_crsr_x           -- 00009b public cseg
lcd_crsr_y           -- 00009c public cseg
lcd_extra_crx        -- 000143 public cseg
lcd_extra_cry        -- 000145 public cseg
lcd_extra_mode       -- 000149 public cseg
lcd_height           -- 00009e public cseg
lcd_height8          -- 0000a0 public cseg
lcd_mode             -- 0000a1 public cseg
lcd_symbol0          -- 0000a3 public cseg
lcd_symbol1          -- 0000a4 public cseg
lcd_symbol2          -- 0000a5 public cseg
lcd_symbol3          -- 0000a6 public cseg
lcd_width            -- 00009d public cseg
lcd_width8           -- 00009f public cseg
linptn               -- 000047 public cseg
lower_cg_top         -- 00007f public cseg
lower_cg_top8        -- 00008e public cseg
machine_auto_slot    -- 00005d public cseg
machine_lang_top     -- 00013f public cseg
main_header_tbl      -- 000012 public cseg
main_ram_bottom      -- 000003 public cseg
main_ram_top         -- 000000 public cseg
main_rom_top         -- 000006 public cseg
main_s_stack_btm     -- 00019b public cseg
main_s_stack_top     -- 000198 public cseg
main_u_backup        -- 00003f public cseg
main_u_stack_btm     -- 000195 public cseg
main_u_stack_top     -- 000192 public cseg
mb_flag              -- 00019e public cseg
menu_ctrl            -- 000066 public cseg
off_u_stack          -- 00005e public cseg
onkey_matrix_mask    -- 0000bb public cseg
pnet_type            -- 000153 public cseg
power_mode           -- 000061 public cseg
prt_effective_for_ctrl_code -- 000152 public cseg
prt_mode             -- 000150 public cseg
prt_spacing          -- 000151 public cseg
prt_width            -- 00014e public cseg
prt_width8           -- 00014f public cseg
real_key             -- 0000bc public cseg
repeat_ctr           -- 0000c0 public cseg
repeat_key           -- 00004a public cseg
repeat_pitch         -- 0000c2 public cseg
repeat_wait          -- 0000c1 public cseg
s_stack_btm          -- 0000f4 public cseg
s_stack_top          -- 0000f1 public cseg
set_keybuf_hook      -- 0000d0 public cseg
sio_baud_rate        -- 00015f public cseg
sio_buf_status       -- 000154 public cseg
sio_close_send_data  -- 000170 public cseg
sio_crlf             -- 000167 public cseg
sio_delimit_code     -- 000171 public cseg
sio_eof_code         -- 000168 public cseg
sio_error            -- 000169 public cseg
sio_flag             -- 00016a public cseg
sio_flag_receive     -- 00016b public cseg
sio_kanjin_buf       -- 000155 public cseg
sio_kanjout_buf      -- 000158 public cseg
sio_open_close_wait  -- 00016c public cseg
sio_open_port_control -- 00016d public cseg
sio_open_send_data   -- 00016f public cseg
sio_receive_port_condition -- 000161 public cseg
sio_receive_port_control -- 000162 public cseg
sio_receive_wait     -- 000166 public cseg
sio_send_delay       -- 000165 public cseg
sio_send_nbyte_wait  -- 00016e public cseg
sio_send_port_condition -- 000163 public cseg
sio_send_port_control -- 000164 public cseg
sio_setup            -- 000160 public cseg
sio_timer            -- 00015b public cseg
sio_timer_master     -- 00015d public cseg
soft_irq_vect        -- 0000e8 public cseg
sub_u_backup         -- 000043 public cseg
symbol_data_tbl_adr  -- 00005a public cseg
system_calendar_mode -- 000173 public cseg
system_country_mode  -- 000174 public cseg
system_secret_mode   -- 000182 public cseg
system_time_mode     -- 000172 public cseg
syswork2_top         -- 00013c public cseg
syswork3_top         -- 000139 public cseg
syswork_top          -- 000000 public cseg
temp_s_stack_btm     -- 00009a public cseg
temp_syswork1_end    -- 0000eb public cseg
temp_syswork1_size   -- 000092 public data
temp_syswork2_top    -- 0000eb public cseg
temp_syswork_top     -- 000059 public cseg
temp_u_stack_btm     -- 000077 public cseg
type2_table_top_adr  -- 00004e public cseg
u_stack_btm          -- 0000ee public cseg
u_stack_top          -- 0000eb public cseg
ui                   -- 0000e0 public data
umlaut_convert_hook  -- 000057 public cseg
upper_cg0_top        -- 000082 public cseg
upper_cg0_top8       -- 000091 public cseg
upper_cg1_top        -- 000085 public cseg
upper_cg1_top8       -- 000094 public cseg
upper_cg2_top        -- 000088 public cseg
upper_cg2_top8       -- 000097 public cseg
  186 symbols are defined
